<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal do Vendedor</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #f4f4f4; }
        .card { background: white; padding: 20px; border-radius: 15px; max-width: 400px; margin: auto; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        /* Aplicando a fonte Bebas Neue Bold no TÃ­tulo */
        h2 { 
            font-family: 'Bebas Neue', sans-serif; 
            font-weight: bold; 
            font-size: 40px; 
            color: #e31d1a; /* Cor de destaque (opcional) */
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        img { width: 100%; border-radius: 10px; margin-bottom: 15px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-size: 16px; }
        button { background: #25D366; color: white; border: none; padding: 15px; width: 100%; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 16px; }
        button:hover { background: #128C7E; }
    </style>
</head>
<body>

<div class="card">
    <h2>OFERTA!!</h2>
    <img src="produto.png" alt="Imagem do Produto">
    
    <input type="text" id="cod" placeholder="DIGITE SEU CÃ“DIGO">
    <button onclick="enviar()">GERAR E ENVIAR NO WHATSAPP</button>
</div>

<script>
    async function enviar() {
        const cod = document.getElementById('cod').value.trim();
        if(!cod) { alert("Por favor, digite o cÃ³digo do vendedor!"); return; }

        const urlProduto = "https://www.martinello.com.br/caixa-de-som-jbl-boombox-4-bluetooth-preto-80878";
        const linkFinal = "https://www.martinello.com.br/parceiros/" + cod + "?redir=" + urlProduto;

        const textoDaOferta = `ðŸ”¥ Oferta Especial â€“ Super Big Friday Martinello! ðŸ”¥\n\nA Caixa de Som JBL Boombox chegou com um precinho imperdÃ­vel!\n\nðŸ‘‰ Compre aqui: ${linkFinal}`;

        // BUSCAR A IMAGEM QUE VOCÃŠ SUBIU NO GITHUB
        const imageElement = document.querySelector('img');
        const imageUrl = imageElement.src;

        try {
            const response = await fetch(imageUrl);
            const blob = await response.blob();
            const file = new File([blob], 'oferta.png', { type: blob.type });

            // Tenta compartilhar pelo sistema do celular (Foto + Texto)
            if (navigator.canShare && navigator.canShare({ files: [file] })) {
                await navigator.share({
                    files: [file],
                    text: textoDaOferta
                });
            } else {
                // Caso o navegador seja antigo, envia sÃ³ o texto como antes
                window.location.href = "https://wa.me/?text=" + window.encodeURIComponent(textoDaOferta);
            }
        } catch (err) {
            // Se der erro na imagem, envia sÃ³ o texto para nÃ£o travar
            window.location.href = "https://wa.me/?text=" + window.encodeURIComponent(textoDaOferta);
        }
    }
</script>

</body>
</html>
